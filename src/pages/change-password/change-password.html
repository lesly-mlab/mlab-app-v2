<!--
  Generated template for the ChangePasswordPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header >

  <ion-navbar color="primary">
    <ion-title>Change Password</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
    <div class="center">
        <img src="assets/imgs/mlab-logo.png" />
      </div>
    <form [formGroup]="form" novalidate>
        <ion-list>
          <ion-item>
            <ion-label floating>Old Password<br><span class="error" *ngIf="form.get('oldPassword').hasError('required') && form.get('oldPassword').touched">Please enter a password</span></ion-label>
            <ion-input type="password" formControlName="oldPassword" [(ngModel)]="oldPassword"></ion-input>
          </ion-item>
      
          <ion-item>
            <ion-label floating>Password<br><span class="error" *ngIf="form.get('password').hasError('required') && form.get('password').touched">Please enter a password</span></ion-label>
            <ion-input type="password" formControlName="password" [(ngModel)]="password"></ion-input>
          </ion-item>

          <ion-item>
              <ion-label floating>Confirm Password<br><span class="error" *ngIf="form.get('confirmPassword').hasError('required') && form.get('confirmPassword').touched">Password must match</span></ion-label>
              <ion-input type="password" formControlName="confirmPassword" [(ngModel)]="confirmPassword"></ion-input>
            </ion-item>
        </ion-list>

        <ion-item no-lines>
           
            <div *ngIf="form.get('password').hasError('required') && form.get('password').touched"> 
              <p class="errorMessage">* password is required</p>
            </div>
            <div 
                 *ngIf="form.get('confirmPassword').hasError('equalTo') && subimmited">
                <p class="errorMessage" >* Password Mismatch</p>
            </div>
        </ion-item>
      
      </form>
</ion-content>
<ion-footer no-border padding>
    <button (click)="changePassword()" type="submit" disabled="{{submmited}}" outline ion-button block color="secondary" style="margin-bottom: 10px">Save</button>

</ion-footer>

<loader [promise]="promise" progress="Changing password" success="Password changed"></loader>
